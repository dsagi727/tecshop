"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[605],{5605:(de,g,u)=>{u.r(g),u.d(g,{LoggedInRoutingModule:()=>me});var n=u(433),e=u(8256),p=u(3599),v=u(2725),d=u(7185),s=u(6895),f=u(8753);function T(o,i){if(1&o&&(e.TgZ(0,"option",6),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.name," ")}}function w(o,i){if(1&o&&(e.TgZ(0,"div",2)(1,"label",3),e._uU(2),e.qZA(),e.TgZ(3,"select",4),e.YNc(4,T,2,2,"option",5),e.qZA()()),2&o){const t=e.oxw();e.Tol(t.class),e.Q6J("formGroup",t.form),e.xp6(1),e.Q6J("for",t.label),e.xp6(1),e.Oqu(t.label),e.xp6(1),e.Q6J("formControlName",t.controllerName)("id",t.label)("name",t.label)("multiple",t.multiple),e.xp6(1),e.Q6J("ngForOf",t.options)}}function I(o,i){if(1&o&&(e.TgZ(0,"small",7),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.validationLabel)}}let h=(()=>{class o{constructor(){this.options=[],this.multiple=!1,this.select=!0}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-form-select"]],inputs:{form:"form",class:"class",label:"label",selected:"selected",options:"options",controllerName:"controllerName",validation:"validation",validationLabel:"validationLabel",multiple:"multiple",select:"select"},decls:2,vars:2,consts:[[3,"formGroup","class",4,"ngIf"],["class","text-danger",4,"ngIf"],[3,"formGroup"],[1,"form-label",3,"for"],[1,"form-select","text-dark",3,"formControlName","id","name","multiple"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"text-danger"]],template:function(t,r){1&t&&(e.YNc(0,w,5,10,"div",0),e.YNc(1,I,2,1,"small",1)),2&t&&(e.Q6J("ngIf",r.form),e.xp6(1),e.Q6J("ngIf",r.validation))},dependencies:[s.sg,s.O5,n.YN,n.Kr,n.K7,n.JJ,n.JL,n.sg,n.u]}),o})();function U(o,i){if(1&o&&(e.TgZ(0,"div",2)(1,"div",3)(2,"span",4),e._uU(3),e.qZA(),e._UZ(4,"textarea",5),e.qZA()()),2&o){const t=e.oxw();e.Tol(t.class),e.Q6J("formGroup",t.form),e.xp6(3),e.Oqu(t.label),e.xp6(1),e.Q6J("rows",t.areaHight)("formControlName",t.controllerName)("placeholder",t.placeholder)}}function C(o,i){if(1&o&&(e.TgZ(0,"small",6),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.validationLabel)}}let A=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-form-text-area"]],inputs:{form:"form",class:"class",label:"label",placeholder:"placeholder",controllerName:"controllerName",validation:"validation",validationLabel:"validationLabel",areaHight:"areaHight"},decls:2,vars:2,consts:[[3,"formGroup","class",4,"ngIf"],["class","text-danger",4,"ngIf"],[3,"formGroup"],[1,"input-group"],[1,"input-group-text"],["aria-label","With textarea",1,"form-control",3,"rows","formControlName","placeholder"],[1,"text-danger"]],template:function(t,r){1&t&&(e.YNc(0,U,5,7,"div",0),e.YNc(1,C,2,1,"small",1)),2&t&&(e.Q6J("ngIf",r.form),e.xp6(1),e.Q6J("ngIf",r.validation))},dependencies:[s.O5,n.Fj,n.JJ,n.JL,n.sg,n.u]}),o})();function q(o,i){if(1&o&&e._UZ(0,"app-form-select",14),2&o){const t=e.oxw();let r;e.Tol("mb-3"),e.Q6J("form",t.userForm)("label","Category:")("controllerName","category")("options",t.categoryOptions)("validation",(null==(r=t.userForm.get("category"))?null:r.invalid)&&(null==(r=t.userForm.get("category"))?null:r.dirty))("validationLabel","The Category field is required!")}}function J(o,i){if(1&o&&e._UZ(0,"app-form-input",15),2&o){const t=e.oxw();let r;e.Tol("mb-3"),e.Q6J("form",t.userForm)("label","Title:")("controllerName","title")("type","text")("placeholder","Enter your Title!")("validationLabel","Not a valid Title!")("validation",(null==(r=t.userForm.get("title"))?null:r.invalid)&&(null==(r=t.userForm.get("title"))?null:r.dirty))}}function E(o,i){if(1&o&&e._UZ(0,"app-form-input",15),2&o){const t=e.oxw();let r;e.Tol("mb-3"),e.Q6J("form",t.userForm)("label","Brand:")("controllerName","brand")("type","text")("placeholder","Enter your Brand!")("validationLabel","Not a valid Brand!")("validation",(null==(r=t.userForm.get("brand"))?null:r.invalid)&&(null==(r=t.userForm.get("brand"))?null:r.dirty))}}function Q(o,i){if(1&o&&e._UZ(0,"app-form-input",15),2&o){const t=e.oxw();let r;e.Tol("mb-3"),e.Q6J("form",t.userForm)("label","Rating:")("controllerName","rating")("type","string")("placeholder","Enter your rating!")("validationLabel","Not a valid rating!")("validation",(null==(r=t.userForm.get("rating"))?null:r.invalid)&&(null==(r=t.userForm.get("rating"))?null:r.dirty))}}function P(o,i){if(1&o&&e._UZ(0,"app-form-input",15),2&o){const t=e.oxw();let r;e.Tol("mb-3"),e.Q6J("form",t.userForm)("label","Stock:")("controllerName","stock")("type","number")("placeholder","Enter your Stock!")("validationLabel","Not a valid Stock format!")("validation",(null==(r=t.userForm.get("stock"))?null:r.invalid)&&(null==(r=t.userForm.get("stock"))?null:r.dirty))}}function S(o,i){if(1&o&&e._UZ(0,"app-form-input",15),2&o){const t=e.oxw();let r;e.Tol("mb-3"),e.Q6J("form",t.userForm)("label","Price:")("controllerName","price")("type","number")("placeholder","Enter your Price!")("validationLabel","Not a valid Price!")("validation",(null==(r=t.userForm.get("price"))?null:r.invalid)&&(null==(r=t.userForm.get("price"))?null:r.dirty))}}function Y(o,i){if(1&o&&e._UZ(0,"app-form-input",15),2&o){const t=e.oxw();let r;e.Tol("mb-3"),e.Q6J("form",t.userForm)("label","Image Url:")("controllerName","image")("type","text")("placeholder","Enter your Image Url!")("validationLabel","Not a url format!")("validation",(null==(r=t.userForm.get("image"))?null:r.invalid)&&(null==(r=t.userForm.get("image"))?null:r.dirty))}}function L(o,i){if(1&o&&e._UZ(0,"app-form-text-area",16),2&o){const t=e.oxw();let r;e.Tol("mb-3"),e.Q6J("form",t.userForm)("areaHight",5)("label","Description")("controllerName","description")("placeholder","")("validation",(null==(r=t.userForm.get("description"))?null:r.invalid)&&(null==(r=t.userForm.get("description"))?null:r.dirty))("validationLabel","The description length has between 20 and 200!")}}const k=function(o,i){return{"btn-primary":o,"btn-warning":i}};let b=(()=>{class o{constructor(t,r,l,a){this.activatedRoute=t,this.productService=r,this.toaster=l,this.router=a,this.categoryOptions=[{value:"SSDs",name:"SSDs"},{value:"MEMORY",name:"Memory"},{value:"MONITORS",name:"Monitors"},{value:"PROCESSORS",name:"Processors"}]}ngOnInit(){this.userForm=new n.cw({title:new n.NI("",[n.kI.required,n.kI.pattern(/^[.!-,\?A-Za-z0-9\s \xc1\xc9\xcd\xd3\xd6\u0150\xda\xdc\u0170\xe1\xe9\xed\xf3\xf6\u0151\xfa\xfc\u0171]{3,50}$/)]),category:new n.NI("SSDs",[n.kI.pattern(/SSDs|MONITORS|MEMORY|PROCESSORS/)]),brand:new n.NI("",[n.kI.required]),description:new n.NI("",[n.kI.required,n.kI.minLength(20),n.kI.maxLength(200)]),price:new n.NI(0),rating:new n.NI("",n.kI.required),stock:new n.NI(0,[n.kI.required,n.kI.min(0),n.kI.max(999)]),image:new n.NI("",[n.kI.required,n.kI.pattern(/^(http|https):\/\//)])});const t=this.activatedRoute.snapshot.paramMap.get("id");t&&this.productService.findOne(t).subscribe({next:r=>{r&&(this.userForm.patchValue(r),this.updatedproductId=r._id)},error:r=>{console.error(r)},complete:()=>{}})}save(){const t=this.userForm.value;t.category=this.userForm.value.category.toString(),t.price=parseFloat(this.userForm.value.price),t.stock=parseInt(this.userForm.value.stock),t.rating=parseFloat(this.userForm.value.rating),t&&this.updatedproductId?this.productService.update(this.updatedproductId,t).subscribe({next:()=>{},error:r=>{console.error(r)},complete:()=>{this.toaster.success("Successful update!"),this.router.navigate(["logged-in/products"])}}):this.productService.create(t).subscribe({next:()=>{},error:r=>{console.error(r)},complete:()=>{this.toaster.success("Successful save!"),this.router.navigate(["logged-in/products"])}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.gz),e.Y36(v.M),e.Y36(d._W),e.Y36(p.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-product-edit"]],decls:29,vars:15,consts:[[1,"container-fluid","my-5","p-5"],[1,"container"],[1,"row"],[1,"col"],[1,"h1","fw-bold","text-primary"],[1,"row","justify-content-center","align-items-center","py-5"],[1,"col-md-6","p-5"],[1,"p-3","border","border-primary","rounded-3",3,"formGroup","ngSubmit"],[3,"form","class","label","controllerName","options","validation","validationLabel",4,"ngIf"],[3,"form","class","label","controllerName","type","placeholder","validationLabel","validation",4,"ngIf"],[3,"form","class","areaHight","label","controllerName","placeholder","validation","validationLabel",4,"ngIf"],["type","submit",1,"btn",3,"disabled","ngClass"],[1,"col-md-6","text-center"],["src","../../../../assets/images/site/login.jpg","alt","about",1,"border","border-3","rounded-5","w-75"],[3,"form","label","controllerName","options","validation","validationLabel"],[3,"form","label","controllerName","type","placeholder","validationLabel","validation"],[3,"form","areaHight","label","controllerName","placeholder","validation","validationLabel"]],template:function(t,r){1&t&&(e.TgZ(0,"main")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1",4),e._uU(6),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"form",7),e.NdJ("ngSubmit",function(){return r.save()}),e.YNc(10,q,1,8,"app-form-select",8),e.YNc(11,J,1,9,"app-form-input",9),e.TgZ(12,"div",2)(13,"div",3),e.YNc(14,E,1,9,"app-form-input",9),e.qZA(),e.TgZ(15,"div",3),e.YNc(16,Q,1,9,"app-form-input",9),e.qZA()(),e.TgZ(17,"div",2)(18,"div",3),e.YNc(19,P,1,9,"app-form-input",9),e.qZA(),e.TgZ(20,"div",3),e.YNc(21,S,1,9,"app-form-input",9),e.qZA()(),e.YNc(22,Y,1,9,"app-form-input",9),e.YNc(23,L,1,9,"app-form-text-area",10),e.TgZ(24,"div")(25,"button",11),e._uU(26," Send "),e.qZA()()()(),e.TgZ(27,"div",12),e._UZ(28,"img",13),e.qZA()()()()()),2&t&&(e.xp6(6),e.hij(" ",r.updatedproductId?"Update Product":"Add New Product"," "),e.xp6(3),e.Q6J("formGroup",r.userForm),e.xp6(1),e.Q6J("ngIf",r.userForm),e.xp6(1),e.Q6J("ngIf",r.userForm),e.xp6(3),e.Q6J("ngIf",r.userForm),e.xp6(2),e.Q6J("ngIf",r.userForm),e.xp6(3),e.Q6J("ngIf",r.userForm),e.xp6(2),e.Q6J("ngIf",r.userForm),e.xp6(1),e.Q6J("ngIf",r.userForm),e.xp6(1),e.Q6J("ngIf",r.userForm),e.xp6(2),e.Q6J("disabled",r.userForm.invalid)("ngClass",e.WLB(12,k,!r.updatedproductId,r.updatedproductId)))},dependencies:[s.mk,s.O5,n._Y,n.JL,n.sg,f.s,h,A]}),o})();function y(o,i){return t=>{const l=t.controls[i];l.errors&&!l.errors.passwordConfirmValidator||l.setErrors(t.controls[o].value!==l.value?{passwordConfirmValidator:!0}:null)}}var O=u(1834),M=u(529);let _=(()=>{class o extends O.q{constructor(t){super(t,"user")}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(M.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function $(o,i){if(1&o&&e._UZ(0,"app-form-input",14),2&o){const t=e.oxw();let r;e.Tol("my-2"),e.Q6J("form",t.userForm)("label","Email:")("controllerName","email")("type","email")("placeholder","Enter your Email!")("validationLabel","Not a valid Email!")("validation",(null==(r=t.userForm.get("email"))?null:r.invalid)&&(null==(r=t.userForm.get("email"))?null:r.dirty))}}function R(o,i){if(1&o&&e._UZ(0,"app-form-input",14),2&o){const t=e.oxw();let r;e.Tol("mb-3"),e.Q6J("form",t.userForm)("label","First Name:")("controllerName","firstName")("type","text")("placeholder","Enter your First Name!")("validationLabel","Not a valid First Name!")("validation",(null==(r=t.userForm.get("firstName"))?null:r.invalid)&&(null==(r=t.userForm.get("firstName"))?null:r.dirty))}}function B(o,i){if(1&o&&e._UZ(0,"app-form-input",14),2&o){const t=e.oxw();let r;e.Tol("mb-3"),e.Q6J("form",t.userForm)("label","Last Name:")("controllerName","lastName")("type","text")("placeholder","Enter your Last Name!")("validationLabel","Not a valid Last Name!")("validation",(null==(r=t.userForm.get("lastName"))?null:r.invalid)&&(null==(r=t.userForm.get("lastName"))?null:r.dirty))}}function G(o,i){if(1&o&&e._UZ(0,"app-form-input",14),2&o){const t=e.oxw();let r;e.Tol("mb-3"),e.Q6J("form",t.userForm)("label","Birth Year:")("controllerName","birthYear")("type","number")("placeholder","Enter your Birth Year!")("validationLabel","Not a valid year format!")("validation",(null==(r=t.userForm.get("birthYear"))?null:r.invalid)&&(null==(r=t.userForm.get("birthYear"))?null:r.dirty))}}function H(o,i){if(1&o&&e._UZ(0,"app-form-input",14),2&o){const t=e.oxw();let r;e.Tol("mb-3"),e.Q6J("form",t.userForm)("label","Phone:")("controllerName","phone")("type","text")("placeholder","Enter your Phone!")("validationLabel","Not a valid Phone format!")("validation",(null==(r=t.userForm.get("phone"))?null:r.invalid)&&(null==(r=t.userForm.get("phone"))?null:r.dirty))}}function V(o,i){if(1&o&&e._UZ(0,"app-form-input",14),2&o){const t=e.oxw();let r;e.Tol("mb-3"),e.Q6J("form",t.userForm)("label","Password:")("controllerName","password")("type","password")("placeholder","Enter your password!")("validationLabel","Not a valid password!")("validation",(null==(r=t.userForm.get("password"))?null:r.invalid)&&(null==(r=t.userForm.get("password"))?null:r.dirty))}}function j(o,i){if(1&o&&e._UZ(0,"app-form-input",14),2&o){const t=e.oxw();let r;e.Tol("mb-3"),e.Q6J("form",t.userForm)("label","Password Confirm:")("controllerName","passwordConfirm")("type","password")("placeholder","Enter your Confirm Password!")("validationLabel","The passwords are not match!")("validation",(null==(r=t.userForm.get("passwordConfirm"))?null:r.invalid)&&(null==(r=t.userForm.get("passwordConfirm"))?null:r.dirty)||(null==(r=t.userForm.get("passwordConfirm"))?null:r.errors)&&(null==(r=t.userForm.get("passwordConfirm"))||null==r.errors?null:r.errors.passwordConfirmValidator))}}const W=function(o,i){return{"btn-primary":o,"btn-warning":i}};let x=(()=>{class o{constructor(t,r,l,a){this.activatedRoute=t,this.userService=r,this.toaster=l,this.router=a,this.roleOptions=[{value:"ADMIN",name:"Admin"},{value:"CUSTOMER",name:"Customer"}]}ngOnInit(){this.userForm=new n.cw({role:new n.NI("ADMIN",[n.kI.required]),firstName:new n.NI("",[n.kI.required,n.kI.pattern(/^[\w\d\s\xc1\xc9\xcd\xd3\xd6\u0150\xda\xdc\u0170\xe1\xe9\xed\xf3\xf6\u0151\xfa\xfc\u0171]{3,30}$/)]),lastName:new n.NI("",[n.kI.required,n.kI.pattern(/^[\w\d\s\xc1\xc9\xcd\xd3\xd6\u0150\xda\xdc\u0170\xe1\xe9\xed\xf3\xf6\u0151\xfa\xfc\u0171]{3,30}$/)]),birthYear:new n.NI("",[n.kI.required,n.kI.pattern(/^(19[5-9]\d|20[0-4]\d|2050)$/)]),password:new n.NI(null,[n.kI.required]),passwordConfirm:new n.NI(null,[n.kI.required]),email:new n.NI("",[n.kI.required,n.kI.email]),phone:new n.NI("",[n.kI.required,n.kI.pattern(/((?:\+?3|0)6)(?:-|\()?(\d{1,2})(?:-|\))?(\d{3})-?(\d{3,4})/g)])},y("password","passwordConfirm"));const t=this.activatedRoute.snapshot.paramMap.get("id");t&&this.userService.findOne(t).subscribe({next:r=>{r&&(this.userForm.patchValue(r),this.updatedUserId=r.user_id,this.updateUserObj=r)},error:()=>{},complete:()=>{}})}update(){const t=this.userForm.value;t.role=this.userForm.value.role.toString(),t.userName=`${t.firstName} ${t.lastName}`,t&&this.updatedUserId?(console.log(t),this.userService.update(this.updatedUserId,t).subscribe({next:()=>{},error:()=>{},complete:()=>{this.toaster.success("Successful update!"),this.router.navigate(["logged-in/users"])}})):(console.log(t),this.userService.create(t).subscribe({next:()=>{},error:()=>{},complete:()=>{this.toaster.success("Successful save!"),this.router.navigate(["logged-in/users"])}}))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.gz),e.Y36(_),e.Y36(d._W),e.Y36(p.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-user-edit"]],decls:32,vars:22,consts:[[1,"container-fluid","my-5","p-5"],[1,"container"],[1,"row"],[1,"col"],[1,"h1","fw-bold","text-primary"],[1,"row","justify-content-center","align-items-center","py-5"],[1,"col-md-6","p-5"],[1,"p-3","border","border-primary","rounded-3",3,"formGroup","ngSubmit"],[3,"form","label","controllerName","options","validation","validationLabel"],[3,"form","class","label","controllerName","type","placeholder","validationLabel","validation",4,"ngIf"],[1,"row","my-2"],["type","submit",1,"my-3","btn",3,"disabled","ngClass"],[1,"col-md-6","text-center"],["src","../../../../assets/images/site/login.jpg","alt","about",1,"border","border-3","rounded-5","w-75"],[3,"form","label","controllerName","type","placeholder","validationLabel","validation"]],template:function(t,r){if(1&t&&(e.TgZ(0,"main")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1",4),e._uU(6),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"form",7),e.NdJ("ngSubmit",function(){return r.update()}),e._UZ(10,"app-form-select",8),e.YNc(11,$,1,9,"app-form-input",9),e.TgZ(12,"div",10)(13,"div",3),e.YNc(14,R,1,9,"app-form-input",9),e.qZA(),e.TgZ(15,"div",3),e.YNc(16,B,1,9,"app-form-input",9),e.qZA()(),e.TgZ(17,"div",10)(18,"div",3),e.YNc(19,G,1,9,"app-form-input",9),e.qZA(),e.TgZ(20,"div",3),e.YNc(21,H,1,9,"app-form-input",9),e.qZA()(),e.TgZ(22,"div",10)(23,"div",3),e.YNc(24,V,1,9,"app-form-input",9),e.qZA(),e.TgZ(25,"div",3),e.YNc(26,j,1,9,"app-form-input",9),e.qZA()(),e.TgZ(27,"div")(28,"button",11),e._uU(29," Send "),e.qZA()()()(),e.TgZ(30,"div",12),e._UZ(31,"img",13),e.qZA()()()()()),2&t){let l;e.xp6(6),e.hij(" ",r.updatedUserId?"Update User":"Add New User"," "),e.xp6(3),e.Q6J("formGroup",r.userForm),e.xp6(1),e.Tol("my-2"),e.Q6J("form",r.userForm)("label","Role:")("controllerName","role")("options",r.roleOptions)("validation",(null==(l=r.userForm.get("role"))?null:l.invalid)&&(null==(l=r.userForm.get("role"))?null:l.dirty))("validationLabel","The Role field is required!"),e.xp6(1),e.Q6J("ngIf",r.userForm),e.xp6(3),e.Q6J("ngIf",r.userForm),e.xp6(2),e.Q6J("ngIf",r.userForm),e.xp6(3),e.Q6J("ngIf",r.userForm),e.xp6(2),e.Q6J("ngIf",r.userForm),e.xp6(3),e.Q6J("ngIf",r.userForm),e.xp6(2),e.Q6J("ngIf",r.userForm),e.xp6(2),e.Q6J("disabled",r.userForm.invalid)("ngClass",e.WLB(19,W,!r.updatedUserId,r.updatedUserId))}},dependencies:[s.mk,s.O5,n._Y,n.JL,n.sg,f.s,h]}),o})();var m=u(801),Z=u(3868);function K(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"button",10),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.delete(null==a?null:a._id))}),e._UZ(13,"fa-icon",8),e.qZA(),e.TgZ(14,"button",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.update(null==a?null:a._id))}),e._UZ(15,"fa-icon",8),e.qZA()()()}if(2&o){const t=i.$implicit,r=e.oxw();e.xp6(2),e.Oqu(null==t?null:t.title),e.xp6(2),e.Oqu(null==t?null:t.brand),e.xp6(2),e.Oqu(null==t?null:t.category),e.xp6(2),e.Oqu(null==t?null:t.price),e.xp6(2),e.Oqu(null==t?null:t.stock),e.xp6(3),e.Q6J("icon",r.faTrash),e.xp6(2),e.Q6J("icon",r.faPen)}}let X=(()=>{class o{constructor(t,r,l){this.productService=t,this.router=r,this.toastr=l,this.faTrash=m.$aW,this.faPen=m.IwR,this.faBox=m.hVM}ngOnInit(){this.getProducts()}getProducts(){this.$productList=this.productService.findAll()}delete(t){t&&this.productService.delete(t).subscribe({next:()=>{},error:r=>{console.error(r)},complete:()=>{this.getProducts(),this.toastr.success("Success delete!")}})}update(t){this.router.navigate(["logged-in/product-edit",t])}createProduct(){this.router.navigate(["logged-in/product-edit"])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(v.M),e.Y36(p.F0),e.Y36(d._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-product-page"]],decls:26,vars:4,consts:[[1,"container-fluid","py-5"],[1,"container","py-5"],[1,"row","align-items-center"],[1,"col-6"],[1,"h1","fw-bold","text-primary","py-3"],[1,"table","text-primary","text-center","align-middle","table-striped","table-primary"],["scope","col"],[1,"btn","btn-primary",3,"click"],[1,"text-light",3,"icon"],[4,"ngFor","ngForOf"],[1,"btn","btn-danger","mx-1",3,"click"],[1,"btn","btn-warning","mx-1",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1",4),e._uU(5,"Products"),e.qZA()()(),e.TgZ(6,"table",5)(7,"thead")(8,"tr")(9,"th",6),e._uU(10,"Title"),e.qZA(),e.TgZ(11,"th",6),e._uU(12,"Brand"),e.qZA(),e.TgZ(13,"th",6),e._uU(14,"Category"),e.qZA(),e.TgZ(15,"th",6),e._uU(16,"Price"),e.qZA(),e.TgZ(17,"th",6),e._uU(18,"Stock"),e.qZA(),e.TgZ(19,"th",6)(20,"button",7),e.NdJ("click",function(){return r.createProduct()}),e._uU(21," Add "),e._UZ(22,"fa-icon",8),e.qZA()()()(),e.TgZ(23,"tbody"),e.YNc(24,K,16,7,"tr",9),e.ALo(25,"async"),e.qZA()()()()),2&t&&(e.xp6(22),e.Q6J("icon",r.faBox),e.xp6(2),e.Q6J("ngForOf",e.lcZ(25,2,r.$productList)))},dependencies:[s.sg,Z.BN,s.Ov]}),o})();function D(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"button",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.delete(null==a?null:a.user_id))}),e._UZ(15,"fa-icon",8),e.qZA(),e.TgZ(16,"button",12),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.update(null==a?null:a.user_id))}),e._UZ(17,"fa-icon",8),e.qZA()()()}if(2&o){const t=i.$implicit,r=i.index,l=e.oxw(2);e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Oqu(null==t?null:t.userName),e.xp6(2),e.AsE("",null==t?null:t.firstName," ",null==t?null:t.lastName,""),e.xp6(2),e.Oqu(null==t?null:t.birthYear),e.xp6(2),e.Oqu(null==t?null:t.email),e.xp6(2),e.Oqu(null==t?null:t.phone),e.xp6(3),e.Q6J("icon",l.faTrash),e.xp6(2),e.Q6J("icon",l.faPen)}}function z(o,i){if(1&o&&(e.TgZ(0,"tbody"),e.YNc(1,D,18,9,"tr",10),e.ALo(2,"async"),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.$userList))}}let ee=(()=>{class o{constructor(t,r){this.userService=t,this.router=r,this.faTrash=m.$aW,this.faPen=m.IwR,this.faUserPlus=m.FKd}ngOnInit(){this.getUsers()}getUsers(){this.$userList=this.userService.findAll()}delete(t){console.log(t),t&&this.userService.delete(t).subscribe({next:()=>{},error:r=>{console.error(r)},complete:()=>{this.getUsers()}})}update(t){console.log(t),this.router.navigate(["logged-in/user-edit",t])}createUser(){this.router.navigate(["logged-in/user-edit"])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_),e.Y36(p.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-user-page"]],decls:26,vars:2,consts:[[1,"container-fluid","py-5"],[1,"container","py-5"],[1,"row","align-items-center"],[1,"col-6"],[1,"h1","fw-bold","text-primary","py-3"],[1,"table","text-primary","text-center","align-middle","table-striped","table-primary"],["scope","col"],[1,"btn","btn-primary",3,"click"],[1,"text-light",3,"icon"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"btn","btn-danger","mx-1",3,"click"],[1,"btn","btn-warning","mx-1",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1",4),e._uU(5,"Users"),e.qZA()()(),e.TgZ(6,"table",5)(7,"thead")(8,"tr")(9,"th",6),e._uU(10,"row"),e.qZA(),e.TgZ(11,"th",6),e._uU(12,"Username"),e.qZA(),e.TgZ(13,"th",6),e._uU(14,"Name"),e.qZA(),e.TgZ(15,"th",6),e._uU(16,"Birth"),e.qZA(),e.TgZ(17,"th",6),e._uU(18,"Email"),e.qZA(),e.TgZ(19,"th",6),e._uU(20,"Phone"),e.qZA(),e.TgZ(21,"th",6)(22,"button",7),e.NdJ("click",function(){return r.createUser()}),e._uU(23," Add "),e._UZ(24,"fa-icon",8),e.qZA()()()(),e.YNc(25,z,3,3,"tbody",9),e.qZA()()()),2&t&&(e.xp6(24),e.Q6J("icon",r.faUserPlus),e.xp6(1),e.Q6J("ngIf",r.$userList))},dependencies:[s.sg,s.O5,Z.BN,s.Ov]}),o})();var N=u(1228);function te(o,i){if(1&o&&e._UZ(0,"app-form-input",5),2&o){const t=e.oxw();let r;e.Tol("my-2"),e.Q6J("form",t.userForm)("label","Email:")("controllerName","email")("type","email")("placeholder","Enter your Email!")("validationLabel","Not a valid Email!")("validation",(null==(r=t.userForm.get("email"))?null:r.invalid)&&(null==(r=t.userForm.get("email"))?null:r.dirty))}}function re(o,i){if(1&o&&e._UZ(0,"app-form-input",5),2&o){const t=e.oxw();let r;e.Tol("mb-3"),e.Q6J("form",t.userForm)("label","First Name:")("controllerName","firstName")("type","text")("placeholder","Enter your First Name!")("validationLabel","Not a valid First Name!")("validation",(null==(r=t.userForm.get("firstName"))?null:r.invalid)&&(null==(r=t.userForm.get("firstName"))?null:r.dirty))}}function oe(o,i){if(1&o&&e._UZ(0,"app-form-input",5),2&o){const t=e.oxw();let r;e.Tol("mb-3"),e.Q6J("form",t.userForm)("label","Last Name:")("controllerName","lastName")("type","text")("placeholder","Enter your Last Name!")("validationLabel","Not a valid Last Name!")("validation",(null==(r=t.userForm.get("lastName"))?null:r.invalid)&&(null==(r=t.userForm.get("lastName"))?null:r.dirty))}}function ne(o,i){if(1&o&&e._UZ(0,"app-form-input",5),2&o){const t=e.oxw();let r;e.Tol("mb-3"),e.Q6J("form",t.userForm)("label","Birth Year:")("controllerName","birthYear")("type","number")("placeholder","Enter your Birth Year!")("validationLabel","Not a valid year format!")("validation",(null==(r=t.userForm.get("birthYear"))?null:r.invalid)&&(null==(r=t.userForm.get("birthYear"))?null:r.dirty))}}function ie(o,i){if(1&o&&e._UZ(0,"app-form-input",5),2&o){const t=e.oxw();let r;e.Tol("mb-3"),e.Q6J("form",t.userForm)("label","Phone:")("controllerName","phone")("type","text")("placeholder","Enter your Phone!")("validationLabel","Not a valid Phone format!")("validation",(null==(r=t.userForm.get("phone"))?null:r.invalid)&&(null==(r=t.userForm.get("phone"))?null:r.dirty))}}function le(o,i){if(1&o&&e._UZ(0,"app-form-input",5),2&o){const t=e.oxw();let r;e.Tol("mb-3"),e.Q6J("form",t.userForm)("label","Password:")("controllerName","password")("type","password")("placeholder","Enter your password!")("validationLabel","Not a valid password!")("validation",(null==(r=t.userForm.get("password"))?null:r.invalid)&&(null==(r=t.userForm.get("password"))?null:r.dirty))}}function ae(o,i){if(1&o&&e._UZ(0,"app-form-input",5),2&o){const t=e.oxw();let r;e.Tol("mb-3"),e.Q6J("form",t.userForm)("label","Password Confirm:")("controllerName","passwordConfirm")("type","password")("placeholder","Enter your Confirm Password!")("validationLabel","The passwords are not match!")("validation",(null==(r=t.userForm.get("passwordConfirm"))?null:r.invalid)&&(null==(r=t.userForm.get("passwordConfirm"))?null:r.dirty)||(null==(r=t.userForm.get("passwordConfirm"))?null:r.errors)&&(null==(r=t.userForm.get("passwordConfirm"))||null==r.errors?null:r.errors.passwordConfirmValidator))}}let se=(()=>{class o{constructor(t,r,l){this.userService=t,this.toaster=r,this.authService=l,this.visibilityForm=new e.vpe}ngOnInit(){this.userForm=new n.cw({firstName:new n.NI("",[n.kI.required,n.kI.pattern(/^[\w\d\s\xc1\xc9\xcd\xd3\xd6\u0150\xda\xdc\u0170\xe1\xe9\xed\xf3\xf6\u0151\xfa\xfc\u0171]{3,30}$/)]),lastName:new n.NI("",[n.kI.required,n.kI.pattern(/^[\w\d\s\xc1\xc9\xcd\xd3\xd6\u0150\xda\xdc\u0170\xe1\xe9\xed\xf3\xf6\u0151\xfa\xfc\u0171]{3,30}$/)]),birthYear:new n.NI("",[n.kI.required,n.kI.pattern(/^(19[5-9]\d|20[0-4]\d|2050)$/)]),password:new n.NI(null,[n.kI.required]),passwordConfirm:new n.NI(null,[n.kI.required]),email:new n.NI("",[n.kI.required,n.kI.email]),phone:new n.NI("",[n.kI.required,n.kI.pattern(/((?:\+?3|0)6)(?:-|\()?(\d{1,2})(?:-|\))?(\d{3})-?(\d{3,4})/g)])},y("password","passwordConfirm"));const t=this.user.user_id;t&&this.userService.findOne(t).subscribe({next:r=>{r&&this.userForm.patchValue(r)},error:r=>{console.error(r)},complete:()=>{}})}update(){const t=this.userForm.value;t.userName=`${t.firstName}.${t.lastName}`,t._id=this.user.user_id,t.role=this.user.role,t&&(t.orders=this.user?.orders,t.cart=this.user?.cart,this.user&&this.userService.update(t._id,t).subscribe({next:()=>{},error:r=>{console.error(r)},complete:()=>{this.toaster.success("Successful update!"),this.visibilityForm.emit(!1),this.authService.loggedInUser$.next(t)}}))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_),e.Y36(d._W),e.Y36(N.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-my-account-edit"]],inputs:{user:"user"},outputs:{visibilityForm:"visibilityForm"},decls:20,vars:9,consts:[[1,"p-3","my-2","border","border-primary","rounded-3",3,"formGroup","ngSubmit"],[3,"form","class","label","controllerName","type","placeholder","validationLabel","validation",4,"ngIf"],[1,"row","my-2"],[1,"col"],["type","submit",1,"my-3","btn","btn-warning",3,"disabled"],[3,"form","label","controllerName","type","placeholder","validationLabel","validation"]],template:function(t,r){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return r.update()}),e.YNc(1,te,1,9,"app-form-input",1),e.TgZ(2,"div",2)(3,"div",3),e.YNc(4,re,1,9,"app-form-input",1),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,oe,1,9,"app-form-input",1),e.qZA()(),e.TgZ(7,"div",2)(8,"div",3),e.YNc(9,ne,1,9,"app-form-input",1),e.qZA(),e.TgZ(10,"div",3),e.YNc(11,ie,1,9,"app-form-input",1),e.qZA()(),e.TgZ(12,"div",2)(13,"div",3),e.YNc(14,le,1,9,"app-form-input",1),e.qZA(),e.TgZ(15,"div",3),e.YNc(16,ae,1,9,"app-form-input",1),e.qZA()(),e.TgZ(17,"div")(18,"button",4),e._uU(19," Send "),e.qZA()()()),2&t&&(e.Q6J("formGroup",r.userForm),e.xp6(1),e.Q6J("ngIf",r.userForm),e.xp6(3),e.Q6J("ngIf",r.userForm),e.xp6(2),e.Q6J("ngIf",r.userForm),e.xp6(3),e.Q6J("ngIf",r.userForm),e.xp6(2),e.Q6J("ngIf",r.userForm),e.xp6(3),e.Q6J("ngIf",r.userForm),e.xp6(2),e.Q6J("ngIf",r.userForm),e.xp6(2),e.Q6J("disabled",r.userForm.invalid))},dependencies:[s.O5,n._Y,n.JL,n.sg,f.s]}),o})();function ue(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-my-account-edit",8),e.NdJ("visibilityForm",function(l){e.CHM(t);const a=e.oxw(2);return e.KtG(a.formVisible(l))}),e.qZA()}if(2&o){const t=e.oxw().ngIf;e.Q6J("user",t)}}function pe(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"section",1)(1,"h2"),e._uU(2),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"div",2)(5,"div",3)(6,"h4"),e._uU(7,"User Information"),e.qZA(),e.TgZ(8,"table",4)(9,"tbody")(10,"tr")(11,"td"),e._uU(12,"Role:"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA()(),e.TgZ(15,"tr")(16,"td"),e._uU(17,"Email:"),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA()(),e.TgZ(20,"tr")(21,"td"),e._uU(22,"Username:"),e.qZA(),e.TgZ(23,"td"),e._uU(24),e.qZA()(),e.TgZ(25,"tr")(26,"td"),e._uU(27,"Birth Year:"),e.qZA(),e.TgZ(28,"td"),e._uU(29),e.qZA()(),e.TgZ(30,"tr")(31,"td"),e._uU(32,"Phone:"),e.qZA(),e.TgZ(33,"td"),e._uU(34),e.qZA()()()()(),e.TgZ(35,"div",5)(36,"button",6),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.formVisible(!0))}),e._uU(37," Edit Account "),e.qZA(),e.YNc(38,ue,1,1,"app-my-account-edit",7),e.qZA()()()}if(2&o){const t=i.ngIf,r=e.oxw();e.xp6(2),e.AsE("Welcome ",t.firstName," ",t.lastName,"!"),e.xp6(12),e.Oqu(t.role),e.xp6(5),e.Oqu(t.email),e.xp6(5),e.Oqu(t.userName),e.xp6(5),e.Oqu(t.birthYear),e.xp6(5),e.Oqu(t.phone),e.xp6(2),e.Q6J("disabled",r.visibilityForm),e.xp6(2),e.Q6J("ngIf",r.visibilityForm)}}let F=(()=>{class o{constructor(t){this.authService=t,this.visibilityForm=!1}ngOnInit(){this.getUser()}getUser(){this.user$=this.authService.loggedInUser$}formVisible(t){this.visibilityForm=t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(N.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-my-account"]],decls:2,vars:3,consts:[["class","container my-5",4,"ngIf"],[1,"container","my-5"],[1,"row"],[1,"col-md-4"],[1,"table"],[1,"col-md-8"],[1,"btn","btn-warning",3,"disabled","click"],[3,"user","visibilityForm",4,"ngIf"],[3,"user","visibilityForm"]],template:function(t,r){1&t&&(e.YNc(0,pe,39,9,"section",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,r.user$))},dependencies:[s.O5,se,s.Ov]}),o})();const ce=[{path:"my-account",component:F},{path:"users",component:ee},{path:"myAccount",component:F},{path:"user-edit",component:x},{path:"user-edit/:id",component:x},{path:"products",component:X},{path:"product-edit",component:b},{path:"product-edit/:id",component:b}];let me=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.Bz.forChild(ce),p.Bz]}),o})()}}]);